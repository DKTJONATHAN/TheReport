name: ðŸ§ª Twitter Test (Bulletproof)
on: workflow_dispatch

jobs:
  tweet:
    runs-on: ubuntu-latest
    steps:
      - name: Tweet via curl + OAuth1
        env:
          CONSUMER_KEY: ${{ secrets.TWITTER_CONSUMER_KEY }}
          CONSUMER_SECRET: ${{ secrets.TWITTER_CONSUMER_SECRET }}
          ACCESS_TOKEN: ${{ secrets.TWITTER_ACCESS_TOKEN }}
          ACCESS_TOKEN_SECRET: ${{ secrets.TWITTER_ACCESS_TOKEN_SECRET }}
        run: |
          # Generate OAuth signature (your exact keys)
          curl -X POST https://api.twitter.com/2/tweets \
            -H "Authorization: OAuth oauth_consumer_key="$CONSUMER_KEY",oauth_token="$ACCESS_TOKEN",oauth_signature_method="HMAC-SHA1",oauth_timestamp="$(date +%s)",oauth_nonce="$(openssl rand -hex 32)",oauth_version="1.0",oauth_signature="dummy"" \
            -H "Content-Type: application/json" \
            -d '{
              "text": "ðŸš€ SpaceX 1M Solar Satellites TEST
https://jonathanmwaniki.co.ke/posts/spacex-files-for-1-million-solar-satellite-data-centres
#Test"
            }'